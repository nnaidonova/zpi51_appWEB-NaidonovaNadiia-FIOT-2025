<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="WakeFlow — тестовий веб-застосунок вейк-школи: послуги, команда, галерея та форма заявки з відправкою в Google Sheets." />
  <title>WakeFlow — Вейк-школа</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <!-- ===== HEADER / NAV ===== -->
  <header>
    <div>
      <a href="index.html" aria-label="Main page">
        <img id="WakeFlow_logo" src="img/logo.png" alt="WakeFlow_logo" width="100" />
      </a>
    </div>

    <nav aria-label="Головна навігація">
      <ul>
        <li><a href="#about">Про школу</a></li>
        <li><a href="#services">Послуги</a></li>
        <li><a href="#team">Команда</a></li>
        <li><a href="#gallery">Галерея</a></li>
        <li><a href="#contact">Контакти</a></li>
        <li><a href="business.html">Бізнес-логіка</a></li>
      </ul>
    </nav>
  </header>

  <!-- ===== MAIN ===== -->
  <main>
    <!-- ===== HERO ===== -->
    <section aria-labelledby="hero-title">
      <figure>
        <img
          src="img/hero.png"
          alt="Катання на вейкборді за катером (тестове зображення)"
          width="1200"
        />
        <figcaption>WakeFlow — школа водних видів спорту.</figcaption>
      </figure>

      <h1 id="hero-title">WakeFlow — це більше, ніж вейк-школа</h1>
      <p>
        Ми — команда ентузіастів водних видів спорту. Тут ти отримаєш перші впевнені спроби на дошці,
        підтримку інструкторів і емоції, які хочеться повторювати.
      </p>

      <p>
        <a class="btn primary" href="#services">Переглянути послуги</a>
        <a class="btn" href="#contact">Записатися на заняття</a>
      </p>
    </section>

    <!-- ===== ABOUT ===== -->
    <section id="about" aria-labelledby="about-title">
      <h2 id="about-title">Про школу</h2>

      <article aria-labelledby="about-subtitle">
        <h3 id="about-subtitle">Наша ідея</h3>
        <p>
          WakeFlow навчає вейкбордингу з нуля та допомагає прокачувати техніку тим, хто вже катається.
          Формат занять — індивідуальні тренування та невеликі групи.
        </p>
      </article>

      <article aria-labelledby="advantages-title">
        <h3 id="advantages-title">Чому з нами зручно</h3>
        <ul>
          <li>Інструктори поруч на кожному етапі навчання</li>
          <li>Пояснюємо техніку просто і по ділу</li>
          <li>Тестове спорядження для перших занять</li>
          <li>Фото/відео фрагменти прогресу (за можливості)</li>
        </ul>

        <h4>Як проходить перше заняття</h4>
        <ol>
          <li>Короткий інструктаж з безпеки</li>
          <li>Підбір спорядження під зріст і рівень</li>
          <li>Перші старти з води та стабілізація стійки</li>
          <li>Розбір помилок та план наступного кроку</li>
        </ol>
      </article>
    </section>

    <!-- ===== SERVICES (TABLE) ===== -->
    <section id="services" aria-labelledby="services-title">
      <h2 id="services-title">Послуги та ціни</h2>
      <div class="table-wrap" role="region" aria-label="Прайс-лист (прокручуваний блок)">
        <table aria-label="Таблиця послуг вейк-школи">
          <caption>Прайс-лист WakeFlow (демо)</caption>
          <thead>
            <tr>
              <th scope="col">Послуга</th>
              <th scope="col">Тривалість</th>
              <th scope="col">Для кого</th>
              <th scope="col">Ціна</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Індивідуальне заняття</td>
              <td>30 хв</td>
              <td>Початківець / середній рівень</td>
              <td>900 грн</td>
            </tr>
            <tr>
              <td>Заняття в мінігрупі</td>
              <td>45 хв</td>
              <td>2–3 людини</td>
              <td>700 грн / людина</td>
            </tr>
            <tr>
              <td>Оренда спорядження</td>
              <td>1 година</td>
              <td>Для самостійного катання</td>
              <td>400 грн</td>
            </tr>
            <tr>
              <td>Пакет “Старт”</td>
              <td>4 заняття</td>
              <td>Для нуля</td>
              <td>3200 грн</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- ===== TEAM ===== -->
    <section id="team" aria-labelledby="team-title">
      <h2 id="team-title">Команда</h2>

      <article aria-labelledby="coach1-title">
        <h3 id="coach1-title">Інструктор: Руслан </h3>
        <figure>
          <img
            src="img/coach1.png"
            alt="Фото інструктора Руслана"
            width="520"
          />
          <figcaption>Спеціалізація: перші старти, базова техніка, безпека.</figcaption>
        </figure>
        <p>
          Допомагає новачкам впевнено встати на дошку та закріпити основу: стійку, баланс, контроль швидкості.
        </p>
      </article>

      <article aria-labelledby="coach2-title">
        <h3 id="coach2-title">Інструктор: Надія</h3>
        <figure>
          <img
            src="img/coach2.png"
            alt="Фото інструктора Марти (тестове зображення)"
            width="520"
          />
          <figcaption>Спеціалізація: прогресія, повороти, перші трюки.</figcaption>
        </figure>
        <p>
          Працює з тими, хто вже катається: підказує технічні нюанси, допомагає стабілізувати елементи.
        </p>
      </article>
    </section>

    <!-- ===== GALLERY ===== -->
    <section id="gallery" aria-labelledby="gallery-title">
      <h2 id="gallery-title">Галерея</h2>

      <div class="gallery-grid">
        <figure>
          <img src="assets/gallery-1-test.jpg" alt="Вейкбординг на воді (демо 1)" width="360" />
          <figcaption>Демо 1</figcaption>
        </figure>

        <figure>
          <img src="assets/gallery-2-test.jpg" alt="Команда біля човна (демо 2)" width="360" />
          <figcaption>Демо 2</figcaption>
        </figure>

        <figure>
          <img src="assets/gallery-3-test.jpg" alt="Тренування на заході сонця (демо 3)" width="360" />
          <figcaption>Демо 3</figcaption>
        </figure>
      </div>
    </section>

    <!-- ===== CONTACT / FORM (Sends to Google Apps Script → Sheets) ===== -->
    <section id="contact" aria-labelledby="contact-title">
      <h2 id="contact-title">Запис на заняття</h2>
      <p>
        Заповни форму — заявка автоматично потрапить у Google Таблицю (через Google Apps Script).
      </p>

      <!-- Status messages -->
      <div id="formStatus" class="status" role="status" aria-live="polite" hidden></div>

      <form id="leadForm" action="#" method="post" aria-label="Форма запису на заняття">
        <fieldset>
          <legend>Контактні дані</legend>

          <p>
            <label for="fullName">Ім’я та прізвище:</label><br />
            <input type="text" id="fullName" name="fullName" placeholder="Напр.: Надія Іваненко" required />
          </p>

          <div class="two-col">
            <p>
              <label for="phone">Телефон:</label><br />
              <input type="tel" id="phone" name="phone" placeholder="+380..." required />
            </p>

            <p>
              <label for="email">Email (необов’язково):</label><br />
              <input type="email" id="email" name="email" placeholder="name@example.com" />
            </p>
          </div>
        </fieldset>

        <fieldset>
          <legend>Деталі заняття</legend>

          <div class="two-col">
            <p>
              <label for="level">Рівень:</label><br />
              <select id="level" name="level" required>
                <option value="" selected disabled>Оберіть варіант</option>
                <option value="Початківець">Початківець</option>
                <option value="Середній">Середній</option>
                <option value="Досвідчений">Досвідчений</option>
              </select>
            </p>

            <p>
              <label for="date">Бажана дата:</label><br />
              <input type="date" id="date" name="date" />
            </p>
          </div>

          <p class="radio-row">
            <span>Формат:</span><br />
            <label>
              <input type="radio" name="format" value="Індивідуально" checked />
              Індивідуально
            </label>
            <label>
              <input type="radio" name="format" value="Мінігрупа" />
              Мінігрупа
            </label>
          </p>

          <p>
            <label for="message">Коментар:</label><br />
            <textarea id="message" name="message" rows="4" placeholder="Напр.: хочу перше заняття, є досвід на сноуборді..."></textarea>
          </p>

          <p class="check-row">
            <label>
              <input type="checkbox" name="agree" required />
              Погоджуюся на обробку персональних даних (демо).
            </label>
          </p>
        </fieldset>

        <!-- Hidden metadata -->
        <input type="hidden" name="source" value="WakeFlow site" />
        <input type="hidden" name="pageUrl" id="pageUrl" value="" />

        <div class="form-actions">
          <button id="submitBtn" type="submit">Надіслати заявку</button>
          <button type="reset">Очистити</button>
        </div>
      </form>

      <h3>Контакти (тестові)</h3>
      <address>
        <p>Локація: м. Київ (демо), озеро “Тестове”</p>
        <p>Телефон: <a href="tel:+380000000000">+38 (000) 000-00-00</a></p>
        <p>Email: <a href="mailto:naidonova.n.a.-zpi51@edu.kpi.ua">info@wakeflow.test</a></p>
      </address>
    </section>
  </main>

  <footer>
    <p>
      © <time datetime="2026">2026</time> WakeFlow (тестовий проєкт).
      <a href="business.html">Опис предметної галузі та бізнес-логіки</a>
    </p>
  </footer>

  <!-- ===== JS: send form to Apps Script ===== -->
  <script>
    // 1) Paste your deployed Apps Script Web App URL here:
    const APPS_SCRIPT_URL = "https://script.google.com/a/macros/edu.kpi.ua/s/AKfycbz0H_sNV1whRJTUnXVqxOEH9BaGP5eyDnwHy18p__vnvb2prK4xFLLnlkGzJg6B26eHlA/exec";

    const form = document.getElementById("leadForm");
    const statusBox = document.getElementById("formStatus");
    const submitBtn = document.getElementById("submitBtn");
    const pageUrlInput = document.getElementById("pageUrl");

    pageUrlInput.value = window.location.href;

    function setStatus(type, text) {
      statusBox.hidden = false;
      statusBox.className = "status " + type;
      statusBox.textContent = text;
    }

    function setLoading(isLoading) {
      submitBtn.disabled = isLoading;
      submitBtn.textContent = isLoading ? "Надсилаємо..." : "Надіслати заявку";
    }

    form.addEventListener("submit", async (e) => {
      e.preventDefault();

      if (!APPS_SCRIPT_URL || APPS_SCRIPT_URL.includes("https://nnaidonova.github.io/zpi51_appWEB-NaidonovaNadiia-FIOT-2025/")) {
        setStatus("error", "Не налаштовано URL Apps Script. Встав Web App URL у код (APPS_SCRIPT_URL).");
        return;
      }

      setLoading(true);
      setStatus("info", "Відправка заявки...");

      // Collect data
      const fd = new FormData(form);

      // We send as JSON to Apps Script
      const payload = {};
      fd.forEach((value, key) => payload[key] = value);

      // Add client timestamp
      payload.clientTime = new Date().toISOString();

      try {
        const res = await fetch(APPS_SCRIPT_URL, {
          method: "POST",
          mode: "cors",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(payload),
        });

        // Apps Script returns JSON
        const data = await res.json().catch(() => ({}));

        if (!res.ok || data.ok !== true) {
          const msg = data && data.error ? data.error : "Не вдалося відправити заявку. Спробуй ще раз.";
          setStatus("error", msg);
          setLoading(false);
          return;
        }

        setStatus("success", "Заявку надіслано. Ми зв’яжемося з тобою найближчим часом.");
        form.reset();
        pageUrlInput.value = window.location.href; // restore after reset
        setLoading(false);

      } catch (err) {
        setStatus("error", "Помилка мережі або доступу. Перевір Web App URL та налаштування деплою.");
        setLoading(false);
      }
    });
  </script>
</body>
</html>
